<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List</title>
</head>

<body>
    <div id="list">

    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        // gaambiarra, fica atualizando a cada 2s.
        //setInterval(()=>{

            /* fetch('/list')
                .then(res => res.json())
                .then(data => {
                    let list = "<ul>"
                    data.map(item => {
                        list += `<li>${item}</li>`
                    })
                    list += "</ul>"
                    document.querySelector("#list").innerHTML = list
                }) */
        //},2000);

        const socket = io('http://localhost:4002');
        socket.on("hello", (data)=>{
            console.log(data.msg)

            socket.emit('hello_client_response', {msg: "Tudo certo por aqui"});
            
        })

    </script>
</body>

</html>